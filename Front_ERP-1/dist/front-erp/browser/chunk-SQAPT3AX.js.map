{
  "version": 3,
  "sources": ["src/app/core/services/clientes.service.ts", "src/app/features/clientes/clientes.component.ts", "src/app/features/clientes/clientes.component.html"],
  "sourcesContent": ["/**\n * core/services/clientes.service.ts\n * ------------------------------------------------------------------\n * CRUD de clientes.\n *\n * Endpoints:\n *   GET    /clientes       → listar (paginado)\n *   GET    /clientes/:id   → detalle\n *   POST   /clientes       → crear\n *   PATCH  /clientes/:id   → actualizar\n *   DELETE /clientes/:id   → eliminar (soft delete)\n * ------------------------------------------------------------------\n */\nimport { Injectable, inject } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ApiService } from './api.service';\nimport type {\n  Cliente,\n  ClienteDetalle,\n  ClienteDto,\n  ApiPaginada,\n} from '../models/api.model';\n\n@Injectable({ providedIn: 'root' })\nexport class ClientesService {\n  private readonly api = inject(ApiService);\n\n  listar(params?: Record<string, string | number | boolean>): Observable<ApiPaginada<Cliente>> {\n    return this.api.getPaginado<Cliente>('clientes', params);\n  }\n\n  obtenerPorId(id: string): Observable<ClienteDetalle> {\n    return this.api.get<ClienteDetalle>(`clientes/${id}`);\n  }\n\n  crear(data: ClienteDto): Observable<Cliente> {\n    return this.api.post<Cliente>('clientes', data);\n  }\n\n  actualizar(id: string, data: Partial<ClienteDto>): Observable<Cliente> {\n    return this.api.patch<Cliente>(`clientes/${id}`, data);\n  }\n\n  eliminar(id: string): Observable<void> {\n    return this.api.delete<void>(`clientes/${id}`);\n  }\n}\n", "import { Component, inject, OnInit, signal } from '@angular/core';\nimport { CommonModule, CurrencyPipe } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatPaginatorModule, PageEvent } from '@angular/material/paginator';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { ClientesService } from '../../core/services/clientes.service';\nimport type { Cliente, PaginacionMeta, ApiPaginada } from '../../core/models/api.model';\n\n@Component({\n  selector: 'app-clientes',\n  standalone: true,\n  imports: [\n    CommonModule, CurrencyPipe, FormsModule,\n    MatTableModule, MatPaginatorModule, MatFormFieldModule,\n    MatInputModule, MatIconModule, MatProgressSpinnerModule,\n  ],\n  templateUrl: './clientes.component.html',\n  styleUrl: './clientes.component.css',\n})\nexport class ClientesComponent implements OnInit {\n  private readonly svc = inject(ClientesService);\n\n  readonly clientes = signal<Cliente[]>([]);\n  readonly meta = signal<PaginacionMeta | null>(null);\n  readonly cargando = signal(false);\n  readonly columnas = ['nombre', 'telefono', 'correo', 'credito'];\n\n  buscar = '';\n  pagina = 1;\n  limite = 20;\n\n  ngOnInit(): void {\n    this.cargar();\n  }\n\n  /** Buscar: resetea a primera página y recarga */\n  onBuscar(): void {\n    this.pagina = 1;\n    this.cargar();\n  }\n\n  cargar(): void {\n    this.cargando.set(true);\n    this.svc.listar({ pagina: this.pagina, limite: this.limite, buscar: this.buscar }).subscribe({\n      next: (res: ApiPaginada<Cliente>) => {\n        this.clientes.set(res.datos);\n        this.meta.set(res.meta);\n        this.cargando.set(false);\n      },\n      error: () => this.cargando.set(false),\n    });\n  }\n\n  onPage(ev: PageEvent): void {\n    this.pagina = ev.pageIndex + 1;\n    this.limite = ev.pageSize;\n    this.cargar();\n  }\n}\n", "<!-- clientes.component.html — Listado de clientes con tabla -->\n<div class=\"page-container\">\n  <div class=\"card-header\">\n    <h1 class=\"card-title text-2xl\">Clientes</h1>\n  </div>\n\n  <div class=\"card mb-4\">\n    <mat-form-field appearance=\"outline\" class=\"w-full\">\n      <mat-label>Buscar cliente</mat-label>\n      <input matInput [(ngModel)]=\"buscar\" (keyup.enter)=\"onBuscar()\" placeholder=\"Nombre, teléfono...\" />\n      <mat-icon matSuffix>search</mat-icon>\n    </mat-form-field>\n  </div>\n\n  @if (cargando()) {\n    <div class=\"flex justify-center py-10\">\n      <mat-spinner diameter=\"40\" />\n    </div>\n  } @else {\n    <div class=\"card overflow-x-auto\">\n      <table mat-table [dataSource]=\"clientes()\" class=\"w-full\">\n        <ng-container matColumnDef=\"nombre\">\n          <th mat-header-cell *matHeaderCellDef>Nombre</th>\n          <td mat-cell *matCellDef=\"let c\">{{ c.nombre }}</td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"telefono\">\n          <th mat-header-cell *matHeaderCellDef>Teléfono</th>\n          <td mat-cell *matCellDef=\"let c\">{{ c.telefono || '—' }}</td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"correo\">\n          <th mat-header-cell *matHeaderCellDef>Correo</th>\n          <td mat-cell *matCellDef=\"let c\">{{ c.correo || '—' }}</td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"credito\">\n          <th mat-header-cell *matHeaderCellDef>Crédito disponible</th>\n          <td mat-cell *matCellDef=\"let c\">{{ c.limiteCredito - c.creditoUtilizado | currency:'$' }}</td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"columnas\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: columnas\" class=\"hover:bg-gray-50 cursor-pointer\"></tr>\n      </table>\n\n      @if (clientes().length === 0) {\n        <div class=\"text-center py-10 text-gray-500\">\n          <mat-icon class=\"text-5xl mb-2\">people_outline</mat-icon>\n          <p>No se encontraron clientes</p>\n        </div>\n      }\n\n      @if (meta()) {\n        <mat-paginator\n          [length]=\"meta()!.total\"\n          [pageSize]=\"meta()!.limite\"\n          [pageIndex]=\"meta()!.pagina - 1\"\n          [pageSizeOptions]=\"[10, 20, 50]\"\n          (page)=\"onPage($event)\"\n          showFirstLastButtons />\n      }\n    </div>\n  }\n</div>\n"],
  "mappings": "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",
  "names": []
}
