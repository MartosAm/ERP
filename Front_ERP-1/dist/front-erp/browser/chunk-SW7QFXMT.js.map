{
  "version": 3,
  "sources": ["src/app/features/auth/login.component.ts", "src/app/features/auth/login.component.html"],
  "sourcesContent": ["import { Component, inject, signal, DestroyRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { ReactiveFormsModule, FormBuilder, Validators } from '@angular/forms';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { AuthService } from '../../core/services/auth.service';\nimport { NotificationService } from '../../core/services/notification.service';\n\n@Component({\n  selector: 'app-login',\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    MatCardModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    MatProgressSpinnerModule,\n  ],\n  templateUrl: './login.component.html',\n  styleUrl: './login.component.css',\n})\nexport class LoginComponent {\n  private readonly auth = inject(AuthService);\n  private readonly router = inject(Router);\n  private readonly notify = inject(NotificationService);\n  private readonly fb = inject(FormBuilder);\n  private readonly destroyRef = inject(DestroyRef);\n\n  readonly ocultarPass = signal(true);\n  readonly cargando = signal(false);\n  readonly errorLogin = signal<string | null>(null);\n\n  readonly form = this.fb.nonNullable.group({\n    correo: ['', [Validators.required, Validators.email]],\n    contrasena: ['', [Validators.required, Validators.minLength(6)]],\n  });\n\n  onLogin(): void {\n    if (this.form.invalid) return;\n    this.cargando.set(true);\n    this.errorLogin.set(null);\n\n    this.auth\n      .login(this.form.getRawValue())\n      .pipe(takeUntilDestroyed(this.destroyRef))\n      .subscribe({\n        next: () => {\n          this.notify.exito('Bienvenido');\n          this.router.navigate(['/dashboard']);\n        },\n        error: (err) => {\n          this.cargando.set(false);\n          const mensaje =\n            err?.error?.error?.mensaje || 'Credenciales inválidas';\n          this.errorLogin.set(mensaje);\n        },\n      });\n  }\n}\n", "<!-- login.component.html — Pantalla de inicio de sesión -->\n<div class=\"login-wrapper\">\n  <mat-card class=\"login-card\">\n    <mat-card-header>\n      <mat-icon mat-card-avatar class=\"text-indigo-500 text-4xl\">store</mat-icon>\n      <mat-card-title>ERP POS</mat-card-title>\n      <mat-card-subtitle>Inicia sesión para continuar</mat-card-subtitle>\n    </mat-card-header>\n\n    <mat-card-content>\n      <form [formGroup]=\"form\" (ngSubmit)=\"onLogin()\" class=\"flex flex-col gap-4 mt-6\">\n        <mat-form-field appearance=\"outline\">\n          <mat-label>Correo electrónico</mat-label>\n          <input matInput formControlName=\"correo\" type=\"email\" autocomplete=\"email\" />\n          <mat-icon matSuffix>mail</mat-icon>\n          @if (form.get('correo')?.hasError('required') && form.get('correo')?.touched) {\n            <mat-error>El correo es obligatorio</mat-error>\n          }\n          @if (form.get('correo')?.hasError('email') && form.get('correo')?.touched) {\n            <mat-error>Correo inválido</mat-error>\n          }\n        </mat-form-field>\n\n        <mat-form-field appearance=\"outline\">\n          <mat-label>Contraseña</mat-label>\n          <input matInput formControlName=\"contrasena\"\n                 [type]=\"ocultarPass() ? 'password' : 'text'\"\n                 autocomplete=\"current-password\" />\n          <button mat-icon-button matSuffix type=\"button\"\n                  aria-label=\"Mostrar u ocultar contraseña\"\n                  (click)=\"ocultarPass.set(!ocultarPass())\">\n            <mat-icon>{{ ocultarPass() ? 'visibility_off' : 'visibility' }}</mat-icon>\n          </button>\n          @if (form.get('contrasena')?.hasError('required') && form.get('contrasena')?.touched) {\n            <mat-error>La contraseña es obligatoria</mat-error>\n          }\n          @if (form.get('contrasena')?.hasError('minlength') && form.get('contrasena')?.touched) {\n            <mat-error>Mínimo 6 caracteres</mat-error>\n          }\n        </mat-form-field>\n\n        @if (errorLogin()) {\n          <p class=\"text-red-600 text-sm text-center\" role=\"alert\">{{ errorLogin() }}</p>\n        }\n\n        <button mat-raised-button color=\"primary\" type=\"submit\"\n                [disabled]=\"form.invalid || cargando()\"\n                class=\"h-12\">\n          @if (cargando()) {\n            <mat-spinner diameter=\"20\" />\n          } @else {\n            Iniciar sesión\n          }\n        </button>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>\n"],
  "mappings": "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",
  "names": []
}
